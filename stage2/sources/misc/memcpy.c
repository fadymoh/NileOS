#include "memcpy.h"

static fast_memcpy_handler fast_memcpy_handlers[256];

void init_fast_memcpy_handlers(){
	fast_memcpy_handlers[0]=fast_memcpy256;
	fast_memcpy_handlers[1]=fast_memcpy1;
	fast_memcpy_handlers[2]=fast_memcpy2;
	fast_memcpy_handlers[3]=fast_memcpy3;
	fast_memcpy_handlers[4]=fast_memcpy4;
	fast_memcpy_handlers[5]=fast_memcpy5;
	fast_memcpy_handlers[6]=fast_memcpy6;
	fast_memcpy_handlers[7]=fast_memcpy7;
	fast_memcpy_handlers[8]=fast_memcpy8;
	fast_memcpy_handlers[9]=fast_memcpy9;
	fast_memcpy_handlers[10]=fast_memcpy10;
	fast_memcpy_handlers[11]=fast_memcpy11;
	fast_memcpy_handlers[12]=fast_memcpy12;
	fast_memcpy_handlers[13]=fast_memcpy13;
	fast_memcpy_handlers[14]=fast_memcpy14;
	fast_memcpy_handlers[15]=fast_memcpy15;
	fast_memcpy_handlers[16]=fast_memcpy16;
	fast_memcpy_handlers[17]=fast_memcpy17;
	fast_memcpy_handlers[18]=fast_memcpy18;
	fast_memcpy_handlers[19]=fast_memcpy19;
	fast_memcpy_handlers[20]=fast_memcpy20;
	fast_memcpy_handlers[21]=fast_memcpy21;
	fast_memcpy_handlers[22]=fast_memcpy22;
	fast_memcpy_handlers[23]=fast_memcpy23;
	fast_memcpy_handlers[24]=fast_memcpy24;
	fast_memcpy_handlers[25]=fast_memcpy25;
	fast_memcpy_handlers[26]=fast_memcpy26;
	fast_memcpy_handlers[27]=fast_memcpy27;
	fast_memcpy_handlers[28]=fast_memcpy28;
	fast_memcpy_handlers[29]=fast_memcpy29;
	fast_memcpy_handlers[30]=fast_memcpy30;
	fast_memcpy_handlers[31]=fast_memcpy31;
	fast_memcpy_handlers[32]=fast_memcpy32;
	fast_memcpy_handlers[33]=fast_memcpy33;
	fast_memcpy_handlers[34]=fast_memcpy34;
	fast_memcpy_handlers[35]=fast_memcpy35;
	fast_memcpy_handlers[36]=fast_memcpy36;
	fast_memcpy_handlers[37]=fast_memcpy37;
	fast_memcpy_handlers[38]=fast_memcpy38;
	fast_memcpy_handlers[39]=fast_memcpy39;
	fast_memcpy_handlers[40]=fast_memcpy40;
	fast_memcpy_handlers[41]=fast_memcpy41;
	fast_memcpy_handlers[42]=fast_memcpy42;
	fast_memcpy_handlers[43]=fast_memcpy43;
	fast_memcpy_handlers[44]=fast_memcpy44;
	fast_memcpy_handlers[45]=fast_memcpy45;
	fast_memcpy_handlers[46]=fast_memcpy46;
	fast_memcpy_handlers[47]=fast_memcpy47;
	fast_memcpy_handlers[48]=fast_memcpy48;
	fast_memcpy_handlers[49]=fast_memcpy49;
	fast_memcpy_handlers[50]=fast_memcpy50;
	fast_memcpy_handlers[51]=fast_memcpy51;
	fast_memcpy_handlers[52]=fast_memcpy52;
	fast_memcpy_handlers[53]=fast_memcpy53;
	fast_memcpy_handlers[54]=fast_memcpy54;
	fast_memcpy_handlers[55]=fast_memcpy55;
	fast_memcpy_handlers[56]=fast_memcpy56;
	fast_memcpy_handlers[57]=fast_memcpy57;
	fast_memcpy_handlers[58]=fast_memcpy58;
	fast_memcpy_handlers[59]=fast_memcpy59;
	fast_memcpy_handlers[60]=fast_memcpy60;
	fast_memcpy_handlers[61]=fast_memcpy61;
	fast_memcpy_handlers[62]=fast_memcpy62;
	fast_memcpy_handlers[63]=fast_memcpy63;
	fast_memcpy_handlers[64]=fast_memcpy64;
	fast_memcpy_handlers[65]=fast_memcpy65;
	fast_memcpy_handlers[66]=fast_memcpy66;
	fast_memcpy_handlers[67]=fast_memcpy67;
	fast_memcpy_handlers[68]=fast_memcpy68;
	fast_memcpy_handlers[69]=fast_memcpy69;
	fast_memcpy_handlers[70]=fast_memcpy70;
	fast_memcpy_handlers[71]=fast_memcpy71;
	fast_memcpy_handlers[72]=fast_memcpy72;
	fast_memcpy_handlers[73]=fast_memcpy73;
	fast_memcpy_handlers[74]=fast_memcpy74;
	fast_memcpy_handlers[75]=fast_memcpy75;
	fast_memcpy_handlers[76]=fast_memcpy76;
	fast_memcpy_handlers[77]=fast_memcpy77;
	fast_memcpy_handlers[78]=fast_memcpy78;
	fast_memcpy_handlers[79]=fast_memcpy79;
	fast_memcpy_handlers[80]=fast_memcpy80;
	fast_memcpy_handlers[81]=fast_memcpy81;
	fast_memcpy_handlers[82]=fast_memcpy82;
	fast_memcpy_handlers[83]=fast_memcpy83;
	fast_memcpy_handlers[84]=fast_memcpy84;
	fast_memcpy_handlers[85]=fast_memcpy85;
	fast_memcpy_handlers[86]=fast_memcpy86;
	fast_memcpy_handlers[87]=fast_memcpy87;
	fast_memcpy_handlers[88]=fast_memcpy88;
	fast_memcpy_handlers[89]=fast_memcpy89;
	fast_memcpy_handlers[90]=fast_memcpy90;
	fast_memcpy_handlers[91]=fast_memcpy91;
	fast_memcpy_handlers[92]=fast_memcpy92;
	fast_memcpy_handlers[93]=fast_memcpy93;
	fast_memcpy_handlers[94]=fast_memcpy94;
	fast_memcpy_handlers[95]=fast_memcpy95;
	fast_memcpy_handlers[96]=fast_memcpy96;
	fast_memcpy_handlers[97]=fast_memcpy97;
	fast_memcpy_handlers[98]=fast_memcpy98;
	fast_memcpy_handlers[99]=fast_memcpy99;
	fast_memcpy_handlers[100]=fast_memcpy100;
	fast_memcpy_handlers[101]=fast_memcpy101;
	fast_memcpy_handlers[102]=fast_memcpy102;
	fast_memcpy_handlers[103]=fast_memcpy103;
	fast_memcpy_handlers[104]=fast_memcpy104;
	fast_memcpy_handlers[105]=fast_memcpy105;
	fast_memcpy_handlers[106]=fast_memcpy106;
	fast_memcpy_handlers[107]=fast_memcpy107;
	fast_memcpy_handlers[108]=fast_memcpy108;
	fast_memcpy_handlers[109]=fast_memcpy109;
	fast_memcpy_handlers[110]=fast_memcpy110;
	fast_memcpy_handlers[111]=fast_memcpy111;
	fast_memcpy_handlers[112]=fast_memcpy112;
	fast_memcpy_handlers[113]=fast_memcpy113;
	fast_memcpy_handlers[114]=fast_memcpy114;
	fast_memcpy_handlers[115]=fast_memcpy115;
	fast_memcpy_handlers[116]=fast_memcpy116;
	fast_memcpy_handlers[117]=fast_memcpy117;
	fast_memcpy_handlers[118]=fast_memcpy118;
	fast_memcpy_handlers[119]=fast_memcpy119;
	fast_memcpy_handlers[120]=fast_memcpy120;
	fast_memcpy_handlers[121]=fast_memcpy121;
	fast_memcpy_handlers[122]=fast_memcpy122;
	fast_memcpy_handlers[123]=fast_memcpy123;
	fast_memcpy_handlers[124]=fast_memcpy124;
	fast_memcpy_handlers[125]=fast_memcpy125;
	fast_memcpy_handlers[126]=fast_memcpy126;
	fast_memcpy_handlers[127]=fast_memcpy127;
	fast_memcpy_handlers[128]=fast_memcpy128;
	fast_memcpy_handlers[129]=fast_memcpy129;
	fast_memcpy_handlers[130]=fast_memcpy130;
	fast_memcpy_handlers[131]=fast_memcpy131;
	fast_memcpy_handlers[132]=fast_memcpy132;
	fast_memcpy_handlers[133]=fast_memcpy133;
	fast_memcpy_handlers[134]=fast_memcpy134;
	fast_memcpy_handlers[135]=fast_memcpy135;
	fast_memcpy_handlers[136]=fast_memcpy136;
	fast_memcpy_handlers[137]=fast_memcpy137;
	fast_memcpy_handlers[138]=fast_memcpy138;
	fast_memcpy_handlers[139]=fast_memcpy139;
	fast_memcpy_handlers[140]=fast_memcpy140;
	fast_memcpy_handlers[141]=fast_memcpy141;
	fast_memcpy_handlers[142]=fast_memcpy142;
	fast_memcpy_handlers[143]=fast_memcpy143;
	fast_memcpy_handlers[144]=fast_memcpy144;
	fast_memcpy_handlers[145]=fast_memcpy145;
	fast_memcpy_handlers[146]=fast_memcpy146;
	fast_memcpy_handlers[147]=fast_memcpy147;
	fast_memcpy_handlers[148]=fast_memcpy148;
	fast_memcpy_handlers[149]=fast_memcpy149;
	fast_memcpy_handlers[150]=fast_memcpy150;
	fast_memcpy_handlers[151]=fast_memcpy151;
	fast_memcpy_handlers[152]=fast_memcpy152;
	fast_memcpy_handlers[153]=fast_memcpy153;
	fast_memcpy_handlers[154]=fast_memcpy154;
	fast_memcpy_handlers[155]=fast_memcpy155;
	fast_memcpy_handlers[156]=fast_memcpy156;
	fast_memcpy_handlers[157]=fast_memcpy157;
	fast_memcpy_handlers[158]=fast_memcpy158;
	fast_memcpy_handlers[159]=fast_memcpy159;
	fast_memcpy_handlers[160]=fast_memcpy160;
	fast_memcpy_handlers[161]=fast_memcpy161;
	fast_memcpy_handlers[162]=fast_memcpy162;
	fast_memcpy_handlers[163]=fast_memcpy163;
	fast_memcpy_handlers[164]=fast_memcpy164;
	fast_memcpy_handlers[165]=fast_memcpy165;
	fast_memcpy_handlers[166]=fast_memcpy166;
	fast_memcpy_handlers[167]=fast_memcpy167;
	fast_memcpy_handlers[168]=fast_memcpy168;
	fast_memcpy_handlers[169]=fast_memcpy169;
	fast_memcpy_handlers[170]=fast_memcpy170;
	fast_memcpy_handlers[171]=fast_memcpy171;
	fast_memcpy_handlers[172]=fast_memcpy172;
	fast_memcpy_handlers[173]=fast_memcpy173;
	fast_memcpy_handlers[174]=fast_memcpy174;
	fast_memcpy_handlers[175]=fast_memcpy175;
	fast_memcpy_handlers[176]=fast_memcpy176;
	fast_memcpy_handlers[177]=fast_memcpy177;
	fast_memcpy_handlers[178]=fast_memcpy178;
	fast_memcpy_handlers[179]=fast_memcpy179;
	fast_memcpy_handlers[180]=fast_memcpy180;
	fast_memcpy_handlers[181]=fast_memcpy181;
	fast_memcpy_handlers[182]=fast_memcpy182;
	fast_memcpy_handlers[183]=fast_memcpy183;
	fast_memcpy_handlers[184]=fast_memcpy184;
	fast_memcpy_handlers[185]=fast_memcpy185;
	fast_memcpy_handlers[186]=fast_memcpy186;
	fast_memcpy_handlers[187]=fast_memcpy187;
	fast_memcpy_handlers[188]=fast_memcpy188;
	fast_memcpy_handlers[189]=fast_memcpy189;
	fast_memcpy_handlers[190]=fast_memcpy190;
	fast_memcpy_handlers[191]=fast_memcpy191;
	fast_memcpy_handlers[192]=fast_memcpy192;
	fast_memcpy_handlers[193]=fast_memcpy193;
	fast_memcpy_handlers[194]=fast_memcpy194;
	fast_memcpy_handlers[195]=fast_memcpy195;
	fast_memcpy_handlers[196]=fast_memcpy196;
	fast_memcpy_handlers[197]=fast_memcpy197;
	fast_memcpy_handlers[198]=fast_memcpy198;
	fast_memcpy_handlers[199]=fast_memcpy199;
	fast_memcpy_handlers[200]=fast_memcpy200;
	fast_memcpy_handlers[201]=fast_memcpy201;
	fast_memcpy_handlers[202]=fast_memcpy202;
	fast_memcpy_handlers[203]=fast_memcpy203;
	fast_memcpy_handlers[204]=fast_memcpy204;
	fast_memcpy_handlers[205]=fast_memcpy205;
	fast_memcpy_handlers[206]=fast_memcpy206;
	fast_memcpy_handlers[207]=fast_memcpy207;
	fast_memcpy_handlers[208]=fast_memcpy208;
	fast_memcpy_handlers[209]=fast_memcpy209;
	fast_memcpy_handlers[210]=fast_memcpy210;
	fast_memcpy_handlers[211]=fast_memcpy211;
	fast_memcpy_handlers[212]=fast_memcpy212;
	fast_memcpy_handlers[213]=fast_memcpy213;
	fast_memcpy_handlers[214]=fast_memcpy214;
	fast_memcpy_handlers[215]=fast_memcpy215;
	fast_memcpy_handlers[216]=fast_memcpy216;
	fast_memcpy_handlers[217]=fast_memcpy217;
	fast_memcpy_handlers[218]=fast_memcpy218;
	fast_memcpy_handlers[219]=fast_memcpy219;
	fast_memcpy_handlers[220]=fast_memcpy220;
	fast_memcpy_handlers[221]=fast_memcpy221;
	fast_memcpy_handlers[222]=fast_memcpy222;
	fast_memcpy_handlers[223]=fast_memcpy223;
	fast_memcpy_handlers[224]=fast_memcpy224;
	fast_memcpy_handlers[225]=fast_memcpy225;
	fast_memcpy_handlers[226]=fast_memcpy226;
	fast_memcpy_handlers[227]=fast_memcpy227;
	fast_memcpy_handlers[228]=fast_memcpy228;
	fast_memcpy_handlers[229]=fast_memcpy229;
	fast_memcpy_handlers[230]=fast_memcpy230;
	fast_memcpy_handlers[231]=fast_memcpy231;
	fast_memcpy_handlers[232]=fast_memcpy232;
	fast_memcpy_handlers[233]=fast_memcpy233;
	fast_memcpy_handlers[234]=fast_memcpy234;
	fast_memcpy_handlers[235]=fast_memcpy235;
	fast_memcpy_handlers[236]=fast_memcpy236;
	fast_memcpy_handlers[237]=fast_memcpy237;
	fast_memcpy_handlers[238]=fast_memcpy238;
	fast_memcpy_handlers[239]=fast_memcpy239;
	fast_memcpy_handlers[240]=fast_memcpy240;
	fast_memcpy_handlers[241]=fast_memcpy241;
	fast_memcpy_handlers[242]=fast_memcpy242;
	fast_memcpy_handlers[243]=fast_memcpy243;
	fast_memcpy_handlers[244]=fast_memcpy244;
	fast_memcpy_handlers[245]=fast_memcpy245;
	fast_memcpy_handlers[246]=fast_memcpy246;
	fast_memcpy_handlers[247]=fast_memcpy247;
	fast_memcpy_handlers[248]=fast_memcpy248;
	fast_memcpy_handlers[249]=fast_memcpy249;
	fast_memcpy_handlers[250]=fast_memcpy250;
	fast_memcpy_handlers[251]=fast_memcpy251;
	fast_memcpy_handlers[252]=fast_memcpy252;
	fast_memcpy_handlers[253]=fast_memcpy253;
	fast_memcpy_handlers[254]=fast_memcpy254;
	fast_memcpy_handlers[255]=fast_memcpy255;
}


void fast_memcpy(void * dest,void * src,uint64_t l)
{
    uint64_t ab = 0;
    while ( l != 0 ) 
    {
        uint16_t b = fast_memcpy_handlers[(uint8_t)l](dest+ab,src+ab);
        ab+=b;
        l -= b;
    }
}